<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Connect Game</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: manipulation;
            color: #ffffff;
        }

        #gameContainer {
            margin: 20px auto;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            background: rgba(30, 30, 50, 0.95);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            color: #ffffff;
            margin-bottom: 20px;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        #score {
            margin-bottom: 15px;
            font-size: 18px;
            color: #64b5f6;
            font-weight: bold;
        }

        #level {
            margin-bottom: 15px;
            font-size: 16px;
            color: #81c784;
        }

        #letters {
            position: relative;
            width: 100%;
            max-width: 320px;
            height: 0;
            padding-bottom: 100%; /* keep a square container responsive */
            margin: 0 auto;
            border-radius: 50%;
            background: rgba(40, 40, 60, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        #letters .letter {
            /* use absolute positioning; sizes will be set in JS */
        }

        .letter {
            position: absolute;
            width: 60px;
            height: 60px;
            line-height: 60px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            background: linear-gradient(145deg, #3a3a5c, #2a2a4c);
            border-radius: 50%;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3),
                        -5px -5px 15px rgba(255, 255, 255, 0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            color: #ffffff;
            user-select: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .letter.selected {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            transform: scale(0.95);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        .letter:hover {
            transform: scale(1.05);
            box-shadow: 8px 8px 20px rgba(0, 0, 0, 0.4),
                        -8px -8px 20px rgba(255, 255, 255, 0.1);
        }

        #wordDisplay {
            margin: 20px auto 15px;
            padding: 15px;
            min-height: 30px;
            font-size: 22px;
            font-weight: bold;
            color: #ffffff;
            background: rgba(40, 40, 60, 0.7);
            border-radius: 10px;
            letter-spacing: 3px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #output {
            margin-top: 15px;
            font-size: 20px;
            font-weight: bold;
            min-height: 30px;
            padding: 10px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        #foundWords {
            margin-top: 15px;
            padding: 15px;
            background: rgba(40, 40, 60, 0.5);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #foundWords h3 {
            margin-top: 0;
            color: #81c784;
        }

        .word-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }

        .found-word {
            background: linear-gradient(145deg, #4caf50, #388e3c);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        #actions {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        button {
            padding: 12px 25px;
            font-size: 18px;
            cursor: pointer;
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        }

        button:disabled {
            background: linear-gradient(145deg, #555, #444);
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }

        #newGameBtn {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
        }

        #newGameBtn:hover {
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .success {
            color: #4caf50;
            animation: correct 0.5s ease-in-out;
        }

        .error {
            color: #f44336;
            animation: wrong 0.5s ease-in-out;
        }

        @keyframes correct {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes wrong {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        @media (max-width: 600px) {
            #gameContainer {
                padding: 20px 15px;
            }
            
            #letters {
                width: 100%;
                height: 280px;
            }
            
            .letter {
                width: 50px;
                height: 50px;
                line-height: 50px;
                font-size: 20px;
            }
            
            h1 {
                font-size: 1.8em;
                margin-bottom: 15px;
            }
            
            button {
                padding: 10px 20px;
                font-size: 16px;
            }
        }

        .back-button {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #333;
            color: white;
            padding: 8px 12px;
            text-decoration: none;
            border-radius: 5px;
            font-size: 14px;
            z-index: 10;
        }

        .back-button:hover {
            background: #555;
        }
    </style>
<script src="https://lib.youware.com/youware-lib.1747145198.js" id="yourware-lib"></script></head>
<body>
    <a href="index.html" class="back-button">‚Üê Back to Game Hub</a>
    <div id="gameContainer">
        <h1>Word Connect</h1>
        <div id="score">Score: 0</div>
        <div id="level">Level: 1</div>
        <div id="wordDisplay"></div>
        <div id="letters">
            <canvas id="canvas"></canvas>
            <!-- Letters will be dynamically inserted here -->
        </div>
        <div id="actions">
            <button id="submitBtn">Submit</button>
            <button id="clearBtn">Clear</button>
            <button id="newGameBtn">New Game</button>
        </div>
        <div id="output"></div>
        <div id="foundWords">
            <h3>Found Words (0)</h3>
            <div class="word-list"></div>
        </div>
    </div>

    <script>
        class WordConnectGame {
            constructor() {
                this.letters = [];
                this.selectedLetters = [];
                this.currentWord = '';
                this.score = 0;
                this.level = 1;
                this.foundWords = new Set();
                this.canvas = document.getElementById('canvas');
                this.ctx = this.canvas.getContext('2d');
                this.isDrawing = false;
                this.currentPath = [];
                
                // Word dictionary for validation
                this.dictionary = new Set([
                    'cat', 'dog', 'rat', 'bat', 'hat', 'mat', 'pat', 'sat',
                    'car', 'bar', 'far', 'jar', 'tar', 'war', 'art', 'cart',
                    'star', 'part', 'dart', 'smart', 'start', 'heart',
                    'the', 'and', 'for', 'are', 'but', 'not', 'you', 'all',
                    'can', 'had', 'her', 'was', 'one', 'our', 'out', 'day',
                    'get', 'has', 'him', 'his', 'how', 'its', 'may', 'new',
                    'now', 'old', 'see', 'two', 'who', 'boy', 'did', 'man',
                    'end', 'few', 'got', 'let', 'put', 'say', 'she', 'too',
                    'use', 'way', 'word', 'work', 'year', 'back', 'give',
                    'good', 'hand', 'here', 'just', 'know', 'life', 'line',
                    'long', 'look', 'make', 'most', 'move', 'much', 'name',
                    'need', 'over', 'part', 'play', 'same', 'seem', 'show',
                    'side', 'tell', 'turn', 'want', 'well', 'went', 'were',
                    'what', 'when', 'where', 'will', 'with', 'came', 'each',
                    'from', 'great', 'help', 'home', 'kind', 'last', 'left',
                    'made', 'many', 'never', 'night', 'other', 'place',
                    'right', 'small', 'sound', 'still', 'such', 'take',
                    'than', 'them', 'think', 'three', 'time', 'very',
                    'water', 'world', 'write', 'after', 'again', 'any',
                    'being', 'call', 'come', 'could', 'every', 'first',
                    'found', 'going', 'house', 'large', 'light', 'live',
                    'might', 'people', 'said', 'should', 'these', 'through',
                    'under', 'where', 'white', 'years', 'young'
                ]);

                this.initGame();
                this.setupEventListeners();
            }

            initGame() {
                this.generateLetters();
                this.positionLetters();
                this.setupCanvas();
                this.updateDisplay();
            }

            generateLetters() {
                // Common letter combinations for better word formation
                const letterSets = [
                    ['C', 'A', 'T', 'R', 'S', 'H'],
                    ['D', 'O', 'G', 'R', 'A', 'T'],
                    ['S', 'T', 'A', 'R', 'H', 'E'],
                    ['W', 'O', 'R', 'K', 'E', 'D'],
                    ['P', 'L', 'A', 'Y', 'E', 'R'],
                    ['H', 'E', 'A', 'R', 'T', 'S']
                ];
                
                const currentSet = letterSets[(this.level - 1) % letterSets.length];
                this.letters = [...currentSet];
                
                // Clear existing letters
                document.querySelectorAll('.letter').forEach(letter => letter.remove());
                
                // Create letter elements
                this.letters.forEach((letter, index) => {
                    const letterElement = document.createElement('div');
                    letterElement.className = 'letter';
                    letterElement.textContent = letter;
                    letterElement.dataset.index = index;
                    letterElement.dataset.letter = letter;
                    document.getElementById('letters').appendChild(letterElement);
                });
            }

            positionLetters() {
                const letterElements = document.querySelectorAll('.letter');
                const container = document.getElementById('letters');
                const rect = container.getBoundingClientRect();
                const radius = Math.min(rect.width, rect.height) * 0.38;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                letterElements.forEach((letter, index) => {
                    const angle = (index * 360 / this.letters.length) * Math.PI / 180;
                    const x = centerX + radius * Math.cos(angle) - (letter.offsetWidth / 2 || 30);
                    const y = centerY + radius * Math.sin(angle) - (letter.offsetHeight / 2 || 30);
                    letter.style.left = x + 'px';
                    letter.style.top = y + 'px';
                });
            }

            setupCanvas() {
                const container = document.getElementById('letters');
                this.canvas.width = container.clientWidth;
                this.canvas.height = container.clientHeight;
                this.ctx = this.canvas.getContext('2d');
                this.ctx.strokeStyle = '#667eea';
                this.ctx.lineWidth = Math.max(3, this.canvas.width * 0.01);
                this.ctx.lineCap = 'round';
                this.ctx.lineJoin = 'round';
            }

            setupEventListeners() {
                const container = document.getElementById('letters');
                
                // Mouse events
                container.addEventListener('mousedown', this.startSelection.bind(this));
                container.addEventListener('mousemove', this.continueSelection.bind(this));
                container.addEventListener('mouseup', this.endSelection.bind(this));
                
                // Touch events
                container.addEventListener('touchstart', this.handleTouch.bind(this));
                container.addEventListener('touchmove', this.handleTouch.bind(this));
                container.addEventListener('touchend', this.endSelection.bind(this));
                
                // Button events
                document.getElementById('submitBtn').addEventListener('click', this.submitWord.bind(this));
                document.getElementById('clearBtn').addEventListener('click', this.clearSelection.bind(this));
                document.getElementById('newGameBtn').addEventListener('click', this.newGame.bind(this));
            }

            startSelection(e) {
                e.preventDefault();
                const letter = e.target.closest('.letter');
                if (letter) {
                    this.isDrawing = true;
                    this.selectLetter(letter);
                }
            }

            continueSelection(e) {
                if (!this.isDrawing) return;
                e.preventDefault();
                
                const letter = document.elementFromPoint(e.clientX, e.clientY)?.closest('.letter');
                if (letter && !letter.classList.contains('selected')) {
                    this.selectLetter(letter);
                }
                
                this.drawPath(e.clientX, e.clientY);
            }

            endSelection(e) {
                this.isDrawing = false;
                this.currentPath = [];
                this.redrawConnections();
            }

            handleTouch(e) {
                e.preventDefault();
                const touch = e.touches[0];
                const letter = document.elementFromPoint(touch.clientX, touch.clientY)?.closest('.letter');
                
                if (e.type === 'touchstart') {
                    if (letter) {
                        this.isDrawing = true;
                        this.selectLetter(letter);
                    }
                } else if (e.type === 'touchmove' && this.isDrawing) {
                    if (letter && !letter.classList.contains('selected')) {
                        this.selectLetter(letter);
                    }
                    this.drawPath(touch.clientX, touch.clientY);
                }
            }

            selectLetter(letterElement) {
                if (letterElement.classList.contains('selected')) return;
                
                letterElement.classList.add('selected');
                this.selectedLetters.push({
                    element: letterElement,
                    letter: letterElement.dataset.letter,
                    index: parseInt(letterElement.dataset.index)
                });
                
                this.currentWord += letterElement.dataset.letter;
                this.updateWordDisplay();
                this.redrawConnections();
            }

            drawPath(x, y) {
                const rect = this.canvas.getBoundingClientRect();
                const canvasX = x - rect.left;
                const canvasY = y - rect.top;
                
                this.currentPath.push({ x: canvasX, y: canvasY });
                this.redrawConnections();
            }

            redrawConnections() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                if (this.selectedLetters.length < 2) return;
                
                this.ctx.beginPath();
                for (let i = 0; i < this.selectedLetters.length; i++) {
                    const letter = this.selectedLetters[i].element;
                    const rect = letter.getBoundingClientRect();
                    const containerRect = this.canvas.getBoundingClientRect();
                    
                    const x = rect.left - containerRect.left + rect.width / 2;
                    const y = rect.top - containerRect.top + rect.height / 2;
                    
                    if (i === 0) {
                        this.ctx.moveTo(x, y);
                    } else {
                        this.ctx.lineTo(x, y);
                    }
                }
                
                // Draw current path if drawing
                if (this.isDrawing && this.currentPath.length > 0) {
                    const lastPoint = this.currentPath[this.currentPath.length - 1];
                    this.ctx.lineTo(lastPoint.x, lastPoint.y);
                }
                
                this.ctx.stroke();
            }

            updateWordDisplay() {
                document.getElementById('wordDisplay').textContent = this.currentWord || 'Select letters...';
            }

            submitWord() {
                if (this.currentWord.length < 3) {
                    this.showMessage('Word must be at least 3 letters long!', 'error');
                    return;
                }
                
                const word = this.currentWord.toLowerCase();
                
                if (this.foundWords.has(word)) {
                    this.showMessage('Word already found!', 'error');
                    this.clearSelection();
                    return;
                }
                
                if (this.dictionary.has(word)) {
                    this.foundWords.add(word);
                    this.score += word.length * 10;
                    this.showMessage(`Great! "${word.toUpperCase()}" is worth ${word.length * 10} points!`, 'success');
                    this.updateFoundWords();
                    this.updateDisplay();
                    
                    // Check for level completion
                    if (this.foundWords.size >= 5 + this.level) {
                        this.levelUp();
                    }
                } else {
                    this.showMessage(`"${word.toUpperCase()}" is not a valid word.`, 'error');
                }
                
                this.clearSelection();
            }

            levelUp() {
                this.level++;
                this.showMessage(`Level ${this.level}! New letters generated!`, 'success');
                setTimeout(() => {
                    this.generateLetters();
                    this.positionLetters();
                    this.foundWords.clear();
                    this.updateFoundWords();
                    this.updateDisplay();
                }, 1500);
            }

            clearSelection() {
                this.selectedLetters.forEach(item => {
                    item.element.classList.remove('selected');
                });
                this.selectedLetters = [];
                this.currentWord = '';
                this.updateWordDisplay();
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            }

            newGame() {
                this.score = 0;
                this.level = 1;
                this.foundWords.clear();
                this.clearSelection();
                this.generateLetters();
                this.positionLetters();
                this.updateFoundWords();
                this.updateDisplay();
                this.showMessage('New game started!', 'success');
            }

            updateDisplay() {
                document.getElementById('score').textContent = `Score: ${this.score}`;
                document.getElementById('level').textContent = `Level: ${this.level}`;
            }

            updateFoundWords() {
                const container = document.querySelector('.word-list');
                const header = document.querySelector('#foundWords h3');
                
                header.textContent = `Found Words (${this.foundWords.size})`;
                container.innerHTML = '';
                
                Array.from(this.foundWords).forEach(word => {
                    const wordElement = document.createElement('span');
                    wordElement.className = 'found-word';
                    wordElement.textContent = word.toUpperCase();
                    container.appendChild(wordElement);
                });
            }

            showMessage(message, type) {
                const output = document.getElementById('output');
                output.textContent = message;
                output.className = type;
                
                setTimeout(() => {
                    output.textContent = '';
                    output.className = '';
                }, 3000);
            }
        }

        // Initialize game when page loads
        window.addEventListener('load', () => {
            new WordConnectGame();
        });
        
        // call on load and on resize
        window.addEventListener('resize', () => {
            this.setupCanvas?.();
            this.positionLetters?.();
            this.redrawConnections?.();
        });
    </script>
</body>
</html>